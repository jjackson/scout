# Data dictionary

The data dictionary is an auto-generated description of a project's database schema. It tells the agent what tables and columns exist, their types, and how they relate to each other.

## What it contains

The data dictionary is generated by introspecting the target database. It captures:

- Table names visible in the configured schema.
- Column names, data types, and nullability.
- Primary keys and foreign key relationships.
- Constraints and indexes.

This information is stored as JSON on the project model and injected into the agent's context for every conversation.

## Generating the data dictionary

Use the management command to generate or refresh the data dictionary:

```bash
# For a specific project
uv run manage.py generate_data_dictionary --project-slug my-project

# For all projects
uv run manage.py generate_data_dictionary --all

# Preview without saving (dry run)
uv run manage.py generate_data_dictionary --project-slug my-project --dry-run
```

## When to regenerate

Regenerate the data dictionary whenever the target database schema changes -- for example, after adding new tables, renaming columns, or changing data types. The agent relies on the data dictionary being accurate; stale information leads to incorrect queries.

## Beyond the data dictionary

The data dictionary provides structural information (columns and types), but it doesn't explain what the data *means*. For that, use the [knowledge layer](../admin/knowledge.md):

- **Table knowledge** -- human-written descriptions of what tables represent and when to use them.
- **Canonical metrics** -- agreed-upon definitions for business metrics.
- **Verified queries** -- query patterns known to produce correct results.
- **Business rules** -- institutional knowledge and gotchas.

The combination of the auto-generated data dictionary and the human-curated knowledge layer gives the agent the context it needs to write accurate queries.
